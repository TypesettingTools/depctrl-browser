---
pagination:
    data: macros
    size: 1
    alias: macro
permalink: "/feed/{{ macro.feedId | slug }}/macro/{{ macro.id | slug }}/"
layout: base.njk
eleventyComputed:
  title: "{{ macro.name }}"
  description: "{{ macro.description }}"
  author: "{{ macro.author }}"
---

<p>{{ macro.description }}</p>
<p>Module <a href="{{ macro.url }}">{{ macro.id }}</a> in feed <a href="/feed/{{ macro.feedId | slug }}">{{ macro.feedId }}</a> by {{ macro.author }}.</p>

<h3>Channels:</h3>
{% for channel, info in macro.channels %}
<h4>{{ channel }}:</h4>
<p>Version: {{ info.description }}</p>
<p>Release Date: {{ info.released }}</p>
<p>Default: {{ info.default }}</p>

<details open>
  <summary>Required Modules</summary>
  <p>
    {% for module in info.requiredModules %}
      <li>
        {% if module.feed %}
          <a href="/feed/{{ module.feed }}/module/{{ module.moduleName | slug }}">{{ module.moduleName }}</a>
        {% else %}
          {{ module.moduleName }}
        {% endif %}
        {% if module.version %} @ {{ module.version }}{% endif %}
      </li>
    {% else %}
      No modules required
    {% endfor %}
  </p>
</details>
<details>
  <summary>Files</summary>
  <p>
    {% for file in info.files %}
      <li><a href="{{ file.url }}">{{ file.name }}</a>: <code>{{ file.sha1 }}</code></li>
    {% else %}
      Macro containes no files
    {% endfor %}
  </p>
</details>
{% endfor %}

<details>
  <summary>Changelog</summary>
  <p>
    {% for version, changelog in macro.changelog | changelogSort %}
      <p><b>{{ version }}:</b> <br>
      {% for changelogLine in changelog %}
        <li>{{ changelogLine | markdownify | safe }}</li>
      {% endfor %}
      </p>
    {% else %}
      No changelog available
    {% endfor %}
  </p>
</details>